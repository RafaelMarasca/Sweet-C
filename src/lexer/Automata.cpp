#include "Automata.h"
#include "SymbolTable.h"
#include <iostream>




int main()
{
    // SymbolTable s;
    
    // Symbol sym [] = {Symbol("rafael","global", TK_ID),
    //                 Symbol("renatinho","global", TK_ID),
    //                 Symbol("422","global", TK_NUM),
    //                 Symbol(">=","global", TK_RELOP),
    //                 };

    // for(int i = 0; i< sizeof(sym)/sizeof(Symbol); i++)
    // {
    //     s.addSymbol(sym[i]);
    // }
    // std::cout<<s;

    // std::vector<std::string>s {"s2","s4"};
    // FDA automato("s1", s);
    // automato.addTransition("s1", '0', "s2");
    // automato.addTransition("s1", '1', "s2");
    // automato.addTransition("s1", '2', "s2");
    // automato.addTransition("s1", '3', "s2");
    // automato.addTransition("s1", '4', "s2");
    // automato.addTransition("s1", '5', "s2");
    // automato.addTransition("s1", '6', "s2");
    // automato.addTransition("s1", '7', "s2");
    // automato.addTransition("s1", '8', "s2");
    // automato.addTransition("s1", '9', "s2");

    // automato.addTransition("s2", '0', "s2");
    // automato.addTransition("s2", '1', "s2");
    // automato.addTransition("s2", '2', "s2");
    // automato.addTransition("s2", '3', "s2");
    // automato.addTransition("s2", '4', "s2");
    // automato.addTransition("s2", '5', "s2");
    // automato.addTransition("s2", '6', "s2");
    // automato.addTransition("s2", '7', "s2");
    // automato.addTransition("s2", '8', "s2");
    // automato.addTransition("s2", '9', "s2");

    // automato.addTransition("s2", '.', "s3");


    // automato.addTransition("s3", '0', "s4");
    // automato.addTransition("s3", '1', "s4");
    // automato.addTransition("s3", '2', "s4");
    // automato.addTransition("s3", '3', "s4");
    // automato.addTransition("s3", '4', "s4");
    // automato.addTransition("s3", '5', "s4");
    // automato.addTransition("s3", '6', "s4");
    // automato.addTransition("s3", '7', "s4");
    // automato.addTransition("s3", '8', "s4");
    // automato.addTransition("s3", '9', "s4");


    // automato.addTransition("s4", '0', "s4");
    // automato.addTransition("s4", '1', "s4");
    // automato.addTransition("s4", '2', "s4");
    // automato.addTransition("s4", '3', "s4");
    // automato.addTransition("s4", '4', "s4");
    // automato.addTransition("s4", '5', "s4");
    // automato.addTransition("s4", '6', "s4");
    // automato.addTransition("s4", '7', "s4");
    // automato.addTransition("s4", '8', "s4");
    // automato.addTransition("s4", '9', "s4");


    // std::string input = "4222.3"; 

    // for(auto &ch : input)
    // {
    //     auto t = automato.step(ch);
    //     std::cout << t.state <<" "<<t.is_accepting <<" "<<t.is_valid<<std::endl;
    // }

    // std::cout<< automato.isAccepted("42.3") << std::endl;
    // std::cout<< automato.isAccepted("423") << std::endl;
    // std::cout<< automato.isAccepted("42.3r") << std::endl;

}